<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Plugin Config | virtualization-sdk</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Plugin Config" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/References/Plugin_Config.html" />
<meta property="og:url" content="http://localhost:4000/References/Plugin_Config.html" />
<meta property="og:site_name" content="virtualization-sdk" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/References/Plugin_Config.html","headline":"Plugin Config","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=52f3c2ef1003e9fe35bc8813a5d4baa843da74c1">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">virtualization-sdk</a></h1>
      

      <h1 id="plugin-config">Plugin Config</h1>
<p>The plugin config is a <a href="https://yaml.org/">YAML</a> file that marks the root of a plugin and defines metadata about the plugin and its structure. The config file is read at build time to generate the upload artifact.</p>

<p>The name of the file does not matter and can be specified during the build, but, by default, the build looks for <code class="highlighter-rouge">plugin_config.yml</code>.</p>

<h2 id="fields">Fields</h2>

<table>
  <thead>
    <tr>
      <th>Field Name</th>
      <th style="text-align: center">Required</th>
      <th style="text-align: center">Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">string</td>
      <td>The unique id of the plugin. This will be autogenerated by <code class="highlighter-rouge">dvp init</code>.</td>
    </tr>
    <tr>
      <td>name</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">string</td>
      <td>The display name of the plugin. This will be used in the UI. If it is not specified name will be equal to id.</td>
    </tr>
    <tr>
      <td>version</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">string</td>
      <td>The <a href="/References/Plugin_Versioning.html">plugin’s version</a> in the format <code class="highlighter-rouge">x.y.z</code>.</td>
    </tr>
    <tr>
      <td>hostTypes</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">list</td>
      <td>The host type that the plugin supports. Either <code class="highlighter-rouge">UNIX</code> or <code class="highlighter-rouge">WINDOWS</code>.</td>
    </tr>
    <tr>
      <td>schemaFile</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">string</td>
      <td>The path to the JSON file that contains the <a href="/References/Schemas.html">plugin’s schema definitions</a>.<br /><br />This path can be absolute or relative to the directory containing the plugin config file.</td>
    </tr>
    <tr>
      <td>srcDir</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">string</td>
      <td>The path to the directory that contains the source code for the plugin. During execution of a plugin operation, this directory will be the current working directory of the Python interpreter. Any modules or resources defined outside of this directory will be inaccessible at runtime.<br /><br />This path can be absolute or relative to the directory containing the plugin config file.</td>
    </tr>
    <tr>
      <td>entryPoint</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">string</td>
      <td>A fully qualified Python symbol that points to the <code class="highlighter-rouge">dlpx.virtualization.platform.Plugin</code> object that defines the plugin.<br /><br />It must be in the form <code class="highlighter-rouge">importable.module:object_name</code> where <code class="highlighter-rouge">importable.module</code> is in <code class="highlighter-rouge">srcDir</code>.</td>
    </tr>
    <tr>
      <td>manualDiscovery</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">boolean</td>
      <td>True if the plugin supports manual discovery of source config objects. The default value is <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td>pluginType</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">enum</td>
      <td>The ingestion strategy of the plugin. Can be either <code class="highlighter-rouge">STAGED</code> or <code class="highlighter-rouge">DIRECT</code>.</td>
    </tr>
    <tr>
      <td>language</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">enum</td>
      <td>Must be <code class="highlighter-rouge">PYTHON27</code>.</td>
    </tr>
    <tr>
      <td>defaultLocale</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">enum</td>
      <td>The locale to be used by the plugin if the Delphix user does not specify one. Plugin messages will be displayed in this locale by default. The default value is <code class="highlighter-rouge">en-us</code>.</td>
    </tr>
    <tr>
      <td>rootSquashEnabled</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">boolean</td>
      <td>This dictates whether “root squash” is enabled on NFS mounts for the plugin (i.e. whether the <code class="highlighter-rouge">root</code> user on remote hosts has access to the NFS mounts). Setting this to <code class="highlighter-rouge">false</code> allows processes usually run as <code class="highlighter-rouge">root</code>, like Docker daemons, access to the NFS mounts. The default value is <code class="highlighter-rouge">true</code>. This field only applies to Unix hosts.</td>
    </tr>
  </tbody>
</table>

<h2 id="example">Example</h2>
<p>Assume the following basic plugin structure:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── plugin_config.yml
├── schema.json
└── src
    └── mongo_runner.py
</code></pre></div></div>

<p><code class="highlighter-rouge">mongo_runner.py</code> contains:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">dlpx.virtualization.platform</span> <span class="kn">import</span> <span class="n">Plugin</span>


<span class="n">mongodb</span> <span class="o">=</span> <span class="n">Plugin</span><span class="p">()</span>
</code></pre></div></div>

<p>This is a valid plugin config for the plugin:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">id</span><span class="pi">:</span> <span class="s">7cf830f2-82f3-4d5d-a63c-7bbe50c22b32</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">MongoDB</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">2.0.0</span>
<span class="na">hostTypes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">UNIX</span>
<span class="na">entryPoint</span><span class="pi">:</span> <span class="s">mongo_runner:mongodb</span>
<span class="na">srcDir</span><span class="pi">:</span> <span class="s">src/</span>
<span class="na">schemaFile</span><span class="pi">:</span> <span class="s">schema.json</span>
<span class="na">pluginType</span><span class="pi">:</span> <span class="s">DIRECT</span>
<span class="na">language</span><span class="pi">:</span> <span class="s">PYTHON27</span>
</code></pre></div></div>
<p>This is a valid plugin config for the plugin with manualDiscovery set to false:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">id</span><span class="pi">:</span> <span class="s">7cf830f2-82f3-4d5d-a63c-7bbe50c22b32</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">MongoDB</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">2.0.0</span>
<span class="na">hostTypes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">UNIX</span>
<span class="na">entryPoint</span><span class="pi">:</span> <span class="s">mongo_runner:mongodb</span>
<span class="na">srcDir</span><span class="pi">:</span> <span class="s">src/</span>
<span class="na">schemaFile</span><span class="pi">:</span> <span class="s">schema.json</span>
<span class="na">manualDiscovery</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">pluginType</span><span class="pi">:</span> <span class="s">DIRECT</span>
<span class="na">language</span><span class="pi">:</span> <span class="s">PYTHON27</span>
</code></pre></div></div>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
