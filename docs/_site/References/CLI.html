<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>CLI | virtualization-sdk</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="CLI" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/References/CLI.html" />
<meta property="og:url" content="http://localhost:4000/References/CLI.html" />
<meta property="og:site_name" content="virtualization-sdk" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/References/CLI.html","headline":"CLI","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=52f3c2ef1003e9fe35bc8813a5d4baa843da74c1">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">virtualization-sdk</a></h1>
      

      <h1 id="cli">CLI</h1>

<p>The CLI is installed with the SDK. To install the SDK, refer to the <a href="/Getting_Started.md">Getting Started</a> section.</p>

<h2 id="help">Help</h2>
<p>Every command has a <code class="highlighter-rouge">-h</code> flag including the CLI itself. This will print the help menu.</p>

<p>####Examples
Get the CLI’s help menu.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp -h
Usage: dvp [OPTIONS] COMMAND [ARGS]...

  The tools of the Delphix Virtualization SDK that help develop, build, and
  upload a plugin.

Options:
  --version      Show the version and exit.
  -v, --verbose  Enable verbose mode. Can be repeated up to three times for
                 increased verbosity.
  -q, --quiet    Enable quiet mode. Can be repeated up to three times for
                 increased suppression.
  -h, --help     Show this message and exit.

Commands:
  build   Build the plugin code and generate upload artifact file using the...
  init    Create a plugin in the root directory.
  upload  Upload the generated upload artifact (the plugin JSON file) that...
</code></pre></div></div>

<p>Get the <code class="highlighter-rouge">build</code> command’s help menu.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp build -h
Usage: dvp build [OPTIONS]

  Build the plugin code and generate upload artifact file using the
  configuration provided in the plugin config file.

Options:
  -c, --plugin-config FILE    Set the path to plugin config file.This file
                              contains the configuration required to build the
                              plugin.  [default: plugin_config.yml]
  -a, --upload-artifact FILE  Set the upload artifact.The upload artifact file
                              generated by build process will be writtento
                              this file and later used by upload command.
                              [default: artifact.json]
  -g, --generate-only         Only generate the Python classes from the schema
                              definitions. Do not do a full build or create an
                              upload artifact.  [default: False]
  -h, --help                  Show this message and exit.
</code></pre></div></div>

<h2 id="verbosity">Verbosity</h2>

<p>To change the verbosity level of the CLI you can specify up to three <code class="highlighter-rouge">-v</code> (to increase) or <code class="highlighter-rouge">-q</code> (to decrease) the amount that is printed to the console. This is an option on the CLI itself and can be used with any command.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Option</th>
      <th style="text-align: center">Output</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">-qqq</td>
      <td style="text-align: center">None</td>
    </tr>
    <tr>
      <td style="text-align: center">-qq</td>
      <td style="text-align: center">Critical</td>
    </tr>
    <tr>
      <td style="text-align: center">-q</td>
      <td style="text-align: center">Error</td>
    </tr>
    <tr>
      <td style="text-align: center">-v</td>
      <td style="text-align: center">Info</td>
    </tr>
    <tr>
      <td style="text-align: center">-vv</td>
      <td style="text-align: center">Debug</td>
    </tr>
    <tr>
      <td style="text-align: center">-vvv</td>
      <td style="text-align: center">All</td>
    </tr>
  </tbody>
</table>

<h3 id="examples">Examples</h3>
<p>Print everything to the console.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp -vvv build
</code></pre></div></div>

<p>Print nothing to the console.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp -qqq upload -e engine.example.com -u admin
</code></pre></div></div>

<h2 id="commands">Commands</h2>

<h3 id="init">init</h3>
<h4 id="description">Description</h4>
<p>Create a plugin in the root directory. The plugin will be valid but have no functionality.</p>

<h4 id="options">Options</h4>
<p>|Option                     |Description|Required|Default           |
|——|———–|:——–:|:——-:|
|-r,<br />–root-dir<br />DIRECTORY|Set the plugin root directory.|N|<code class="highlighter-rouge">os.cwd()</code>|
|-n,<br />–plugin-name<br />TEXT|Set the name of the plugin that will be used to identify it.|N|id|
|-s,<br />–ingestion-strategy<br />[DIRECT|STAGED]|Set the ingestion strategy of the plugin. A “direct” plugin ingests without a staging server while a “staged” plugin requires a staging server.|N|<code class="highlighter-rouge">DIRECT</code>|</p>

<h4 id="examples-1">Examples</h4>
<p>Create a plugin in the current working directory with the <code class="highlighter-rouge">DIRECT</code> ingestion strategy. Here the name of the plugin will be equal to the id that is generated.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp init
</code></pre></div></div>

<p>Create a plugin in the current working directory with the <code class="highlighter-rouge">DIRECT</code> ingestion strategy and use <code class="highlighter-rouge">postgres</code> as the display name.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp init -n postgres
</code></pre></div></div>

<p>Create a plugin called <code class="highlighter-rouge">mongodb</code> in a custom location with the <code class="highlighter-rouge">STAGED</code> ingestion strategy.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp init -n mongodb -s STAGED
</code></pre></div></div>

<hr />
<h3 id="build">build</h3>
<h4 id="description-1">Description</h4>
<p>Build the plugin code and generate upload artifact file using the configuration provided in the plugin config file.</p>

<h4 id="options-1">Options</h4>
<p>|Option                            |Description|Required|Default                 |
|——|———–|:——–:|:——-:|
|-c,<br />–plugin-config<br />FILE|Set the path to plugin config file.This file contains the configuration required to build the plugin.|N|<code class="highlighter-rouge">plugin_config.yml</code>|
|-a,<br />–upload-artifact<br />FILE|Set the upload artifact.The upload artifact file generated by build process will be written to this file and later used by upload command.|N|<code class="highlighter-rouge">artifact.json</code>|
|-g,<br />–generate-only|Only generate the Python classes from the schema definitions. Do not do a full build or create an upload artifact.|N|<code class="highlighter-rouge">False</code>|</p>

<h4 id="examples-2">Examples</h4>
<p>Do a full build of the plugin and write the upload artifact to <code class="highlighter-rouge">./artifact.json</code>.</p>

<p>This assumes current working directory contains a plugin config file named <code class="highlighter-rouge">plugin_config.yml</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp build
</code></pre></div></div>

<p>Do a partial build and just generate the Python classes from the schema definitions.</p>

<p>This assumes current working directory contains ad plugin config file named <code class="highlighter-rouge">plugin_config.yml</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp build -g
</code></pre></div></div>

<p>Do a full build of a plugin and write the artifact file to a custom location.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp build -c config.yml -a build/artifact.json
</code></pre></div></div>
<hr />
<h3 id="upload">upload</h3>
<h4 id="description-2">Description</h4>
<p>Upload the generated upload artifact (the plugin JSON file) that was built to a target Delphix Engine. Note that the upload artifact should be the file created after running the build command and will fail if it’s not readable or valid.</p>
<h4 id="options-2">Options</h4>

<table>
  <thead>
    <tr>
      <th>Option                            </th>
      <th>Description</th>
      <th style="text-align: center">Required</th>
      <th style="text-align: center">Default                       </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-e,<br />–delphix-engine<br />TEXT</td>
      <td>Upload plugin to the provided engine. This should be either the hostname or IP address.</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">None</td>
    </tr>
    <tr>
      <td>-u,<br />–user<br />TEXT</td>
      <td>Authenticate to the Delphix Engine with the provided user.</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">None</td>
    </tr>
    <tr>
      <td>-a,<br />–upload-artifact FILE</td>
      <td>Path to the upload artifact that was generated through build.</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center"><code class="highlighter-rouge">artifact.json</code></td>
    </tr>
    <tr>
      <td>–password<br />TEXT</td>
      <td>Authenticate using the provided password. If ommitted, the password will be requested through a secure prompt.</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">None</td>
    </tr>
  </tbody>
</table>

<h4 id="examples-3">Examples</h4>
<p>Upload artifact <code class="highlighter-rouge">build/artifact.json</code> to <code class="highlighter-rouge">delphix-engine.domain</code> using the user <code class="highlighter-rouge">admin</code>. Since the password option is ommitted, a secure password prompt is used instead.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp upload -a build/artifact -e engine.example.com -u admin
Password:
</code></pre></div></div>

<hr />
<h3 id="download-logs">download-logs</h3>
<h4 id="description-3">Description</h4>
<p>Download plugin logs from a Delphix Engine to a local directory.</p>
<h4 id="options-3">Options</h4>

<table>
  <thead>
    <tr>
      <th>Option                            </th>
      <th>Description</th>
      <th style="text-align: center">Required</th>
      <th style="text-align: center">Default                 </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-e,<br />–delphix-engine<br />TEXT</td>
      <td>Download plugin logs from the provided Delphix engine. This should be either the hostname or IP address.</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">None</td>
    </tr>
    <tr>
      <td>-c,<br />–plugin-config FILE</td>
      <td>Set the path to plugin config file. This file contains the plugin name to download logs for.</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center"><code class="highlighter-rouge">plugin_config.yml</code></td>
    </tr>
    <tr>
      <td>-u,<br />–user<br />TEXT</td>
      <td>Authenticate to the Delphix Engine with the provided user.</td>
      <td style="text-align: center">Y</td>
      <td style="text-align: center">None</td>
    </tr>
    <tr>
      <td>-d,<br />–directory DIRECTORY</td>
      <td>Specify the directory of where to download the plugin logs.</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center"><code class="highlighter-rouge">os.cwd()</code></td>
    </tr>
    <tr>
      <td>–password<br />TEXT</td>
      <td>Authenticate using the provided password. If ommitted, the password will be requested through a secure prompt.</td>
      <td style="text-align: center">N</td>
      <td style="text-align: center">None</td>
    </tr>
  </tbody>
</table>

<h4 id="examples-4">Examples</h4>
<p>Download plugin logs from <code class="highlighter-rouge">engine.example.com</code> using the user <code class="highlighter-rouge">admin</code>. Since the password option is ommitted, a secure password prompt is used instead.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dvp download-logs -e engine.example.com -u admin
Password:
</code></pre></div></div>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
